function home_load(){firebase.auth().onAuthStateChanged(function(a){function c(a,b){return"<h3>"+a+'</h3><button class="algo_button" id="edit_'+b+'" onClick="editAlgorithm(this.id)" type="button">Edit</button><button class="algo_button" id="view_'+b+'" onClick="viewAlgorithm(this.id)" type="button">View</button><button class="algo_button" id="dele_'+b+'" onClick="deleteAlgorithm(this.id)" type="button">Delete</button>'}if(a){document.body.innerHTML='<nav class="nav_bar"><button id="home_link" class="link_button link_active" type="button">My Algos</button><button id="search_link" class="link_button" type="button">Search</button><button id="about_link" class="link_button" type="button">About</button><div class="logo_hover"><img alt="AlgoDex Logo" class="top_logo" src="images/logo.png"><div class="logo_dropdown"><button id="home_btn" type="button">Home</button><button id="signout_btn" type="button">Signout</button></div></div></nav><div class="frame_element left_frame align_center" id="user_algos"><h2>My Algos</h2> <ul class="frame_element" id="algo_list"><button class="algo_button" id="add_btn" type="button">Add New Algorithm</button></ul></div><iframe class="outside_content no_border" id="i_frame" name="outside stuff" src="./view.html"></iframe>',document.body.setAttribute("class","outer_body"),document.title.innerHTML="AlgoDex - My Algorithms";var b=[];document.getElementById("home_link").addEventListener("click",a=>{home_load()}),document.getElementById("search_link").addEventListener("click",a=>{search_load()}),document.getElementById("about_link").addEventListener("click",a=>{about_load()}),document.getElementById("home_btn").addEventListener("click",a=>{home_load()}),document.getElementById("signout_btn").addEventListener("click",a=>{firebase.auth().signOut().then(function(){window.alert("Signed Out"),window.open("./index.html","_self")},function(a){window.alert("Sign Out Error"+a)})});var d=document.getElementById("algo_list"),e=function(){var a=firebase.database().ref("code/"+firebase.auth().currentUser.uid+"/");a.orderByChild("name").on("child_added",function(a){var e=document.createElement("li");e.id=a.key,e.innerHTML=c(a.val().name,a.key),d.appendChild(e),b.push(a.key)})};d.addEventListener("load",e()),document.getElementById("add_btn").addEventListener("click",a=>{edit_load(null)}),document.editAlgorithm=function(a){edit_load(a)},document.deleteAlgorithm=function(a){ref=firebase.database().ref("code/"+firebase.auth().currentUser.uid),a=a.substring(5);var b=ref.child(a).remove();b.then(b=>{document.getElementById(a.toString()).remove()}),ref=storage.ref("image/"+a),b=ref.delete()},document.viewAlgorithm=function(a){var d,e,f,g,h,i,b=document.getElementById("i_frame").contentDocument,c=db.ref("code/"+firebase.auth().currentUser.uid+"/"+a.substring(5));c.orderByValue().on("value",function(a){a.forEach(function(a){switch(a.key){case"name":d=a.val();break;case"type":e=a.val();break;case"code":f=a.val();break;case"note":g=a.val();break;case"runtime":h=a.val();break;case"space":i=a.val()}})}),b.body.innerHTML='<h1 id="algo_name"><em><u>'+d+'</u></em></h1><h2 id="type">Algorithm Type - '+e+'</h2><br><h2>Overview / Code</h2><div style="text-align:left; margin-left:30%;"><code id="overview">'+f.replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")+'</code><br></div><h2>Runtime Analysis</h2><p id="runtime">'+h+'</p><br><h2>Space Complexity</h2><p id="space_cmplx">'+i+'</p><br><h2>Notes</h2><p id="notes">'+g+'</p><br><h2 id="img_exists">Relevant Images</h2><img alt="" id="algo_image" src="">',b.body.setAttribute("class","inner_body");var j=storage.ref(),k=b.getElementById("algo_image");j.child("image/"+a.substring(5)).getDownloadURL().then(function(a){k.src=a})}}})}function search_load(){firebase.auth().onAuthStateChanged(function(a){a&&(document.body.innerHTML='<nav class="nav_bar"><button id="home_link" class="link_button" type="button">My Algos</button><button id="search_link" class="link_button link_active" type="button">Search</button><button id="about_link" class="link_button" type="button">About</button><div class="logo_hover"><img alt="AlgoDex Logo" class="top_logo" src="images/logo.png"><div class="logo_dropdown"><button id="home_btn" type="button">Home</button><button id="signout_btn" type="button">Signout</button></div></div></nav><section class="left_frame_large"><h2>Search</h2><form id="search_form" action=""><input type="text" placeholder="Name" id="name_search"><br><br><select id="select_algo_type" class="drop_down"><option value="0">Select Algorithm Type</option><option value="Search">Search</option><option value="Sort">Sort</option><option value="AI">AI</option><option value="String Manipulation">String Manipulation</option></select><br><br><select id="select_runtime"><option value="0">Select Runtime</option><option value="Constant">Constant</option><option value="Linear">Linear</option><option value="O(n^2)">O(n^2)</option><option value="Greater than O(n^2)">Greater than O(n^2)</option></select><br><br><select id="select_space_complexity"><option value="0">Select Space Complexity</option><option value="Constant">Constant</option><option value="Linear">Linear</option><option value="O(n^2)">O(n^2)</option><option value="Greater than O(n^2)">Greater than O(n^2)</option></select><br><br><label><input id="include_public_bool" type="checkbox">Include Public</label><br><br><label><input id="include_myalgos_bool" type="checkbox">Include My Algos</label><br><br><input type="number" placeholder="# of Results/Page"><br><br><input type="button" value="Submit" id="submit_btn"></form></section><iframe class="outside_content no_border" id="i_frame" src="./results.html"></iframe>',document.title.innerHTML="AlgoDex - Search Algorithms",document.getElementById("home_link").addEventListener("click",a=>{home_load()}),document.getElementById("search_link").addEventListener("click",a=>{search_load()}),document.getElementById("about_link").addEventListener("click",a=>{about_load()}),document.getElementById("home_btn").addEventListener("click",a=>{home_load()}),document.getElementById("signout_btn").addEventListener("click",a=>{firebase.auth().signOut().then(function(){window.alert("Signed Out"),window.open("./index.html","_self")},function(a){window.alert("Sign Out Error"+a)})}),document.getElementById("submit_btn").onclick=function(){function k(a,b,c){var d={};for(var e in a)a[e][b].toLowerCase().search(c.toLowerCase())!=-1&&(d[e]=a[e]);return d}const b=(document.getElementById("name_search"),document.getElementById("select_algo_type")),c=document.getElementById("select_runtime"),d=document.getElementById("select_space_complexity"),e=document.getElementById("include_public_bool"),f=document.getElementById("include_myalgos_bool");var g=document.getElementById("i_frame").contentDocument;const h=firebase.database().ref("code/"+firebase.auth().currentUser.uid+"/");var i={};h.orderByChild("name").on("child_added",function(a){i[a.key]={name:a.val().name,type:a.val().type,runtime:a.val().runtime,space:a.val().space,code:a.val().code,note:a.val().note}}),""!=name_search.value&&(i=k(i,"name",name_search.value)),"0"!=b.value&&(i=k(i,"type",b.value)),"0"!=c.value&&(i=k(i,"runtime",c.value)),"0"!=d.value&&(i=k(i,"space",d.value)),0!=e.checked,0!=f.checked;var l="";for(var m in i)l=l+'<button id="'+m+'" type="button" class="big_padding">'+i[m].name+"</button>";""==l&&(l="<h3>No results found...</h3>"),g.body.innerHTML=l,g.body.setAttribute("id","results"),l=null;for(var m in i)g.getElementById(m).addEventListener("click",a=>{g.body.innerHTML='<button style="position: absolute; left: 0;" type="button" id="back">Go Back to results</button><h1 id="algo_name"><em><u>'+i[m].name+'</u></em></h1><h2 id="type">Algorithm Type - '+i[m].type+'</h2><br><h2>Overview / Code</h2><div style="text-align:left; margin-left:30%;"><code id="overview">'+i[m].code.replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")+'</code><br></div><h2>Runtime Analysis</h2><p id="runtime">'+i[m].runtime+'</p><br><h2>Space Complexity</h2><p id="space_cmplx">'+i[m].space+'</p><br><h2>Notes</h2><p id="notes" contenteditable="true">'+i[m].note+"</p>",g.body.setAttribute("id","view_body"),g.body.setAttribute("class","inner_body"),g.getElementById("back").addEventListener("click",a=>{document.getElementById("submit_btn").click(),g.body.setAttribute("class",null)})})})})}function about_load(){null!=firebase.auth().currentUser.uid&&(document.body.innerHTML='<div style="background-color:lightblue"><h1 style="text-align: center">Team AlgoDex\'s About</h1><nav><button type="button" onclick="home_load()">Home</button></nav></div><div style="background-color:gold"><h3>Team Goals and Culture</h3></div><div><p style="text-indent: 40px">Team <strong>AlgoDex\'s</strong> primary goal is to develop a <em>robust and useful product</em> that software engineers and programming enthusiasts <em>love to use</em>. <strong>AlgoDex</strong> is meant to help engineers by storing algorithms and chunks of code for later use. Here at <strong>AlgoDex</strong>, we believe that making this process as efficient as possible for the user means that we can signicantly reduce development time in almost any situation. Other goals include the development of clean code and the development of code that is secure.</p><p style="text-indent: 40px">Team <strong>AlgoDex\'s</strong> culture is unique. Both members are veterans with beards. While being a veteran is not necessary to join team <strong>AlgoDex</strong>, <u>having a beard as an absolute must</u>. Our team is quite laid-back but we also pride ourselves on developing well-written code. In short, <em> we take pride in our work</em>. </p></div><div style="background-color:gold"><h3>About the Developers</h3></div><div><img src="images/justin.jpg" height="200" width="170" alt="Nada"><p>Name : Justin Harris</p><p>Email: jmh027 at ucsd.edu</p><p>About: Justin Harris is a Senior at UCSD and will be graduating and heading to industry in June. He is a Navy veteran and worked in IT while he was enlisted. In his spare time, he likes to look people in the eyes for far too long to see how they react. He also likes to ponder the meaning of life while he sleeps! You know he is in the room when you smell alcohol and despair.</p></div><hr /><div><img src="images/peter.png" alt="Nada"><p>Name : Peter Panourgias</p><p>Email: ppanourg@ucsd.edu and peter.panourgias@gmail.com</p><p>About: Peter Panourgias is a Senior at UCSD. He will be graduating in September and then heading off to industry. He is also a Navy veteran of 7.5 years. Peter was an Avionics Technician in the Navy and worked on stuff like Radar and weapons systems for fighter jets.</p></div>',document.title.innerHTML="AlgoDex - About Us")}function edit_load(a){firebase.auth().onAuthStateChanged(function(b){if(b){document.body.innerHTML='<nav class="nav_bar"><button id="home_link" class="link_button link_active" type="button">My Algos</button><button id="search_link" class="link_button" type="button">Search</button><button id="about_link" class="link_button" type="button">About</button><div class="logo_hover"><img alt="AlgoDex Logo" class="top_logo" src="images/logo.png"><div class="logo_dropdown"><button id="home_btn" type="button">Home</button><button id="signout_btn" type="button">Signout</button></div></div></nav><hr /><form><fieldset><legend>Algorithm Information</legend><p><label>Algorithm Name </label><input type="text" id="algo_name" placeholder="Hi, my name is..." /></p><p><label>Algorithm Type </label><input type="text" id="algo_type" placeholder="Search, AI, etc..." /></p><p><label>Algorithm Runtime </label><input type="text" id="algo_rt" placeholder="O(1)" /></p><p><label>Algorithm Space Complexity</label><select id="algo_space"><option value="O(1)">Constant</option><option value="O(n)">Linear</option><option value="O(n^2)">O(n^2)</option><option value="Greater">Greater than O(n^2)</option></select></p><p><label>Image (optional) </label><input type="file" id="algo_img" name="image" accept="image/*" onClick="isImageAdded()" /><input id="cb" type="checkbox" value="unchecked" style="visibility:hidden;"></p></fieldset></form><h3>Algorithm Overview / Code</h3><p><textarea id="code" rows="25" cols="120" placeholder="Add code here..."></textarea></p><h3>Notes</h3><p><textarea id="notes" rows="5" cols="120" placeholder="Add notes here..."></textarea></p><button id="submit_changes" type="button">Submit Changes / Add</button>',document.isImageAdded=function(){document.getElementById("cb").value="checked"},null==a?document.title.innerHTML="AlgoDex - Add Algorithm":document.title.innerHTML="AlgoDex - Edit Algorithm";var c=document.getElementById("algo_name"),d=document.getElementById("algo_type"),e=document.getElementById("algo_rt"),f=document.getElementById("algo_space"),g=document.getElementById("code"),h=document.getElementById("notes"),i=document.getElementById("submit_changes");if(document.getElementById("home_link").addEventListener("click",a=>{home_load()}),document.getElementById("search_link").addEventListener("click",a=>{search_load()}),document.getElementById("about_link").addEventListener("click",a=>{about_load()}),document.getElementById("home_btn").addEventListener("click",a=>{home_load()}),document.getElementById("signout_btn").addEventListener("click",a=>{firebase.auth().signOut().then(function(){window.alert("Signed Out"),window.open("./index.html","_self")},function(a){window.alert("Sign Out Error"+a)})}),i.addEventListener("click",b=>{if(c.value&&d.value&&e.value&&f.value&&g.value&&h.value){var i;if(null!=a?(i=a.substring(5),db.ref("code/"+firebase.auth().currentUser.uid+"/"+i).update({name:c.value,type:d.value,runtime:e.value,space:f.value,code:g.value,note:h.value,hasImg:document.getElementById("cb").value})):(i=Date.now(),hasImg="checked"==document.getElementById("cb").value,db.ref("code/"+firebase.auth().currentUser.uid+"/"+i).set({name:c.value,type:d.value,runtime:e.value,space:f.value,code:g.value,note:h.value,hasImg:document.getElementById("cb").value})),""!=document.getElementById("algo_img").value){var j=storage.ref("image/"+i),k=document.getElementById("algo_img").files[0];j.put(k).then(function(a){console.log("Uploaded a file!")})}null==document.getElementById("home")&&(sc=document.createElement("script"),sc.setAttribute("src","./home.js"),sc.setAttribute("id","home"),document.head.appendChild(sc)),home_load()}else window.alert("Please fill out all fields!")}),null!=a){var k=db.ref("code/"+firebase.auth().currentUser.uid+"/"+a.substring(5));k.orderByValue().on("value",function(a){a.forEach(function(a){switch(a.key){case"name":c.value=a.val();break;case"type":d.value=a.val();break;case"code":g.value=a.val();break;case"note":h.value=a.val();break;case"runtime":e.value=a.val();break;case"space":f.value=a.val()}})})}}})}var temp=document.getElementById("login_bubble");temp.parentNode.removeChild(temp),temp=document.getElementById("login_script"),temp.parentNode.removeChild(temp),temp=document.getElementById("login_style"),temp.parentNode.removeChild(temp),temp=document.createElement("link"),temp.setAttribute("href","./style/style.css"),temp.setAttribute("rel","stylesheet"),temp.setAttribute("type","text/css"),document.head.appendChild(temp),temp=null,home_load();